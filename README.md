# Railway Map Editor (GeoJSON Builder)

日本の鉄道路線を描画・編集できるWebアプリケーションです。

## 主な機能

### 1. 路線描画機能
- 地図上をクリックして新しい路線を作成
- 路線名、運営会社、事業者区分、路線種類を設定
- カスタムカラーで路線を表示

### 2. 座標編集機能
- 既存の路線を選択
- 個別の座標を編集または削除
- リアルタイムで地図に反映

### 3. ファイル入出力
- **GeoJSON形式**: 標準的なGeoJSON形式で保存・読込
- **WKT形式**: Well-Known Text形式で保存・読込
- 両形式を自動認識して読み込み

## 使い方

### 新しい路線を描画する
1. 路線情報（路線名、運営会社など）を入力
2. 「📍 描画開始」をクリック
3. 地図上をクリックして座標を追加
4. 「✓ 路線完成」で完了

### 既存の路線を編集する
1. 「✏️ 座標編集モード」をクリック
2. 地図上の路線をクリックして選択
3. 左側のパネルで座標を編集または削除

### ファイルを保存する
1. 保存形式を選択（GeoJSON または WKT）
2. 「💾 ファイル保存」をクリック

### ファイルを読み込む
1. 「📂 ファイル読込」をクリック
2. JSONファイルを選択（GeoJSON/WKT自動認識）

## データ形式

### GeoJSON形式（内部形式）
```json
[
  {
    "label": "山手線",
    "N02_004": "東日本旅客鉄道",
    "N02_002": "2",
    "N02_001": "11",
    "coordinates": [[139.7, 35.7], [139.71, 35.71]]
  }
]
```

### WKT形式
```json
[
  {
    "label": "山手線",
    "N02_004": "東日本旅客鉄道",
    "N02_002": "2",
    "N02_001": "11",
    "geometry": "LINESTRING(139.7 35.7, 139.71 35.71)"
  }
]
```

## 技術スタック
- Mapbox GL JS
- Vanilla JavaScript
- HTML5/CSS3

## ライセンス
MIT
